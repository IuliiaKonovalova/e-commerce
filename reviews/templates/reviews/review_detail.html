{% extends 'base.html' %}
{% load static %}


{% block content %}
  <div class="review">
    <h1>Review on {{ review.product.name }}</h1> 
    {% if request.user == review.user %}
      <a href="" aria-label="Edit my review this product" class="btn btn__edit">
        <i class="fas fa-edit"></i>
        Edit review
      </a>
      <a href="#" aria-label="Delete my review this product" class="btn btn__delete">
        <i class="fas fa-trash-alt"></i>
        Delete review
      </a>
    {% endif %}
    <div class="review__details">
      <div class="review__details--data">
        <strong>Rating: </strong>
        <span class="review__details--data--rating">
          {% spaceless %}
            {% for star in "12345"|make_list %}
              {% if forloop.counter <= review.rating|add:"0" %}
                <i class="fas fa-star"></i>
              {% else %}
                <i class="far fa-star"></i>
              {% endif %}
            {% endfor %}
          {% endspaceless %}
        </span>
      </div>
      <div class="review__details--data comment">
        <strong>Comment: </strong>
        <p class="review__details--data--comment">
          {% if review.comment %}
            {{ review.comment }}
          {% else %}
            No comment left.
          {% endif %}
        </p>
      </div>
      <div class="review__details--data">
        <strong>Date: </strong>
        <span class="review__details--data--date">
          {{ review.created_at|date }}
        </span>
      </div>
      <div class="review__details--data">
        <strong>Left by: </strong>
        <span class="review__details--data--user">
          {{ review.user.username }}
        </span>
      </div>
    </div>
    <div class="review__images">
      {% for image in images %}
        <div class="review__image">
          <img src="{{ image.image_url }}" alt="Review image for {{ review.product.name }} left by {{ review.user }}">
        </div>
      {% endfor %}
    </div>
  </div>
{% endblock %}